<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="admin">
	
	<select id="selectAdminLogin" parameterType="hashmap" resultType="adminVO">
		SELECT 
			admin_no as adminNo,
			admin_id as adminID,
			admin_pwd as adminPWD,
			admin_name as adminName,
			admin_email as adminEmail,
			admin_grade as adminGrade,
			admin_date as adminDate 
			FROM admin 
			WHERE (admin_id=#{adminID} AND admin_pwd=#{adminPWD} ) AND (NOT admin_grade='D')
	</select>
	
	<select id="selectAdminIDCheck" parameterType="string" resultType="string">
		SELECT
			admin_id as adminID
			FROM admin
			WHERE admin_id=#{chkID}	
	</select>	
	
	<insert id="insertAdminAccount" parameterType="adminVO">
		INSERT INTO admin VALUES (
			ADMINNO_SQ.NEXTVAL,
			#{adminID},
			#{adminPWD},
			#{adminName},
			#{adminEmail},
			DEFAULT,
			SYSDATE
		)
			
	</insert>
	
	<select id="selectAdminEmailCheck" parameterType="string" resultType="string">
		SELECT
			admin_email as adminEmail
			FROM admin
			WHERE admin_email=#{chkMail}	
	</select>
	
	<update id="updateAdminPWD" parameterType="map">
		UPDATE admin
		SET admin_pwd=#{newPWD}
		WHERE admin_id=#{adminID}
	</update>

</mapper>
